<!doctype html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Анкета регистрации</title>

  <link rel="stylesheet" href="./style.css" />
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
<!-- РОВНОЕ ВЫРАВНИВАНИЕ ТЕКСТА ВЕЗДЕ -->
  
  <style>
    /* ВАЖНО: постоянное ровное выравнивание текста */
    body, form, label, input, select, textarea, button,
    .hint, .policy-text, .text-block, .file-info {
      text-align: left !important;
    }

    /* Убираем “плавающие” отступы и налезания */
    label {
      display: block;
      margin: 0 0 8px 0 !important;
      line-height: 1.25 !important;
    }

    input, select, textarea {
      margin: 0 0 18px 0 !important;
      line-height: 1.25 !important;
    }

    /* Старое правило могло “съедать” отступ и вызывать налезание */
    #phone { margin-bottom: 18px !important; }

    /* Описания/подсказки: не в белом “окошке”, а как обычный текст */
    .hint,
    .policy-text {
      background: transparent !important;
      border: none !important;
      padding: 0 !important;
      margin: 6px 0 14px 0 !important;
      border-radius: 0 !important;
      color: rgba(26,26,26,0.70) !important;
      white-space: pre-line !important;
    }

    .policy-link { display: inline-block; margin: 8px 0 6px 0; }

    /* Описание выбранного трека/приоритета */
    #track_description, #priority1_description, #priority2_description {
      white-space: pre-line !important;
    }

    /* Улучшаем внешний вид input[type=date] (насколько позволяет браузер) */
    input[type="date"]{
      appearance: none;
      -webkit-appearance: none;
      background-color: #fff !important;
    }

    /* Чуть приятнее подсветка фокуса для date */
    input[type="date"]:focus{
      outline: none;
      border-color: var(--color-accent) !important;
      box-shadow: 0 0 0 3px rgba(255, 231, 0, 0.35) !important;
    }
  
    /* Красивый кастомный выбор даты (без внешних библиотек) */
    .date-picker { width: 100%; max-width: 600px; }
    .date-row { display: flex; gap: 10px; }
    .date-row select { flex: 1; }
    </style>

</head>

<body>
  <h2>Анкета регистрации</h2>

  <form id="reg-form" novalidate>
    <label for="last_name">Фамилия</label>
    <input id="last_name" name="last_name" type="text" autocomplete="family-name" required />

    <label for="first_name">Имя</label>
    <input id="first_name" name="first_name" type="text" autocomplete="given-name" required />

    <label for="email">E-mail</label>
    <input id="email" name="email" type="email" autocomplete="email" required />
    <p id="email-error" class="error" style="display:none;"></p>

    <label for="phone">Номер телефона</label>
    <input id="phone" name="phone" type="tel" autocomplete="tel" required />

    <label for="birth_date">Дата рождения</label>
    
    <div class="date-picker" id="birth_date_picker">
      <div class="hint">Выберите дату рождения</div>
      <div class="date-row">
        <select id="birth_day" aria-label="День" required>
          <option value="">День</option>
        </select>
        <select id="birth_month" aria-label="Месяц" required>
          <option value="">Месяц</option>
        </select>
        <select id="birth_year" aria-label="Год" required>
          <option value="">Год</option>
        </select>
      </div>
      <input id="birth_date" name="birth_date" type="hidden" required />
    </div>
</div>

    <div id="priorities_block" style="display:none;">
      <label for="priority1">Приоритетное направление №1</label>
      <select id="priority1" name="priority1"></select>
      <div id="priority1_description" class="hint" style="display:none;"></div>

      <label for="priority2">Приоритетное направление №2</label>
      <select id="priority2" name="priority2"></select>
      <div id="priority2_description" class="hint" style="display:none;"></div>
    </div>

    <div class="hint">Сколько часов в неделю вы можете работать (с понедельника по пятницу с 9:00 до 18:00 по Мск)?</div>
    <label for="hours_per_week">Выберите количество часов</label>
    <select id="hours_per_week" name="hours_per_week" required>
      <option value="">— Выберите —</option>
      <option value="Меньше 25 часов в будни">Меньше 25 часов в будни</option>
      <option value="25 часов в будни">25 часов в будни</option>
      <option value="30 часов в будни">30 часов в будни</option>
      <option value="35 часов в будни">35 часов в будни</option>
      <option value="40 часов в будни">40 часов в будни</option>
    </select>

    <label for="ready_6_months">Готовность к стажировке на 6 месяцев</label>
    <select id="ready_6_months" name="ready_6_months" required>
      <option value="">— Выберите —</option>
      <option value="Да">Да</option>
      <option value="Нет">Нет</option>
    </select>

    <div class="file-info">
      <span class="policy-link" id="policy-link">Политика обработки данных</span>
    </div>
    <div class="policy-text" id="policy-text" style="display:none;">
      Нажимая «Отправить», вы соглашаетесь на обработку персональных данных.
    </div>

    <button type="submit">Отправить</button>

    <p id="result"></p>
    <p id="error" class="error"></p>
  </form>

  <script src="./script.js"></script>
</body>
</html>
